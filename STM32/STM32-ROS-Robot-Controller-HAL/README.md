# 四电机机器人驱动板（HAL库版）

## 硬件部分

自研ROS机器人四电机控制板已开发测试到Version3.0，经投产验证各功能已经完善，目前此驱动板的功能为：  

1. 板载四路直流编码器电机驱动（TB6612FNG），可以同时驱动四路直流电机并进行闭环控制，采用防呆接口，省去繁杂的接线工作。
2. 板载MPU6050陀螺仪采集六轴速度及加速度数据，可以用于里程计的数据采集。
3. 板载TYPE-C接口，支持正反查所以淘汰了MICRO-USB接口。串口芯片采用CP2102，可以解决CH340芯片通讯不稳定及突然断联导致电脑蓝屏的问题。
4. 该TYPE-C接口连接至STM32的USART1，搭载STM32自动下载电路，可以通过此接口进行STM32的一键烧录，免去手动复位。同时可以通过此接口连接电脑进行串口通讯，方便后期调试与LOG输出。
5. 预留树莓派接口，此接口可以给树莓派供电，也可以与树莓派进行串口通讯。
6. 板载CAN收发芯片（SN65HVD232DR），可以拓展连接支持CAN通信的外设。
7. 板载电压检测，可以在程序内配置以实现电池电量监测功能。
8. 板载的大多数外设均可以通过跳线选择是否与MCU连接，如果断开连接，对应空闲的的IO接口可以当做普通IO使用。
9. 上述提到的IO和剩余未使用的IO接口全部引出，可以方便拓展其他功能。
10. 板载三个指示灯及三个按键。
11. 板载12V-5V的DC-DC。第三版选用的DCDC芯片（MP2315GJ）与第一版相比体积缩小了五倍，电流可以稳定在3A，性能极其强大。板载5V-3.3V的LDO线性稳压器，LDO综合考虑体积和散热选用了常用的AMS1117。
12. 背面引出电压测试点，方便测试。

此控制板与市场同类型产品比较，价格更低、功能更完善、性能更强大、体积更小巧，可以成为很多轮式机器人的驱动板。同时配套开发了基本驱动例程，学生可用来作为开发板进行学习。

## 软件部分

